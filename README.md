# Tetris
Tetris（俄罗斯方块）
该游戏是本人作为练习JS而独立完成的，未参考其他任何人的代码。
没有使用图片，均用canvas绘制。

主要思路为：
在底层数据层面：有两个对象，一个为背景，一个为当前方块。
背景用二维数组表示坐标，back_ground[Y][X] = 0 或 1。
0代表此处无方块，1代表此物有方块。
当前方块（共7中形态）用四个小方块表示，每个方块对应一个坐标。即可用二维数组表示。
如[[Y1,X1], [Y2,X2], [Y3,X3], [Y4,X4]],每个[Yn,Xn]都代表一个坐标，且和背景坐标相对应。
碰撞检测和能否旋转都根据当前的背景来判断。

在操作层面：每次方块发生变化（掉落，左右移动，旋转），其坐标也相应发生变化，
当方块下落到最底层不能再下落后，将当前方块的坐标传给背景，背景发生改变。
根据改变后的背景，检测能否消行，游戏是否结束，若继续，则生成新的方块，直到游戏结束。

在视图层面，两个重叠的canvas,一个为背景层，一个为当前的方块层。
方块降落（包括左右移动及形态变换）在在方块层中完成，当方块降落到最底层不能继续降落后，
把当前方块的坐标数据传给背景层，在背景层中固定方块的最后位置，即在相应的坐标绘制方块，
然后在方块层重新绘制新的方块。